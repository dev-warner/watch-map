!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t=t||self).WatchMap={})}(this,(function(t){"use strict";function n(){}function e(t){return t()}function r(){return Object.create(null)}function i(t){t.forEach(e)}function o(t){return"function"==typeof t}function a(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function u(t,e,r){t.$$.on_destroy.push(function(t,...e){if(null==t)return n;const r=t.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}(e,r))}function l(t,n){t.appendChild(n)}function s(t,n,e){t.insertBefore(n,e||null)}function c(t){t.parentNode.removeChild(t)}function h(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function f(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function p(){return d(" ")}function g(t,n,e,r){return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e,r)}function m(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function M(t,n){n=""+n,t.data!==n&&(t.data=n)}function b(t,n,e){t.classList[e?"add":"remove"](n)}let y;function v(t){y=t}const N=[],w=[],A=[],x=[],S=Promise.resolve();let R=!1;function E(t){A.push(t)}let T=!1;const C=new Set;function L(){if(!T){T=!0;do{for(let t=0;t<N.length;t+=1){const n=N[t];v(n),G(n.$$)}for(N.length=0;w.length;)w.pop()();for(let t=0;t<A.length;t+=1){const n=A[t];C.has(n)||(C.add(n),n())}A.length=0}while(N.length);for(;x.length;)x.pop()();R=!1,T=!1,C.clear()}}function G(t){if(null!==t.fragment){t.update(),i(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(E)}}const B=new Set;let I;function k(t,n){t&&t.i&&(B.delete(t),t.i(n))}function $(t,n,r){const{fragment:a,on_mount:u,on_destroy:l,after_update:s}=t.$$;a&&a.m(n,r),E(()=>{const n=u.map(e).filter(o);l?l.push(...n):i(n),t.$$.on_mount=[]}),s.forEach(E)}function P(t,n){const e=t.$$;null!==e.fragment&&(i(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function U(t,n){-1===t.$$.dirty[0]&&(N.push(t),R||(R=!0,S.then(L)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function H(t,e,o,a,u,l,s=[-1]){const h=y;v(t);const f=e.props||{},d=t.$$={fragment:null,ctx:null,props:l,update:n,not_equal:u,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:[]),callbacks:r(),dirty:s};let p=!1;if(d.ctx=o?o(t,f,(n,e,...r)=>{const i=r.length?r[0]:e;return d.ctx&&u(d.ctx[n],d.ctx[n]=i)&&(d.bound[n]&&d.bound[n](i),p&&U(t,n)),e}):[],d.update(),p=!0,i(d.before_update),d.fragment=!!a&&a(d.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);d.fragment&&d.fragment.l(t),t.forEach(c)}else d.fragment&&d.fragment.c();e.intro&&k(t.$$.fragment),$(t,e.target,e.anchor),L()}v(h)}"function"==typeof HTMLElement&&(I=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,n,e){this[t]=e}$destroy(){P(this,1),this.$destroy=n}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}});const O=[];function K(t,e=n){let r;const i=[];function o(n){if(a(t,n)&&(t=n,r)){const n=!O.length;for(let n=0;n<i.length;n+=1){const e=i[n];e[1](),O.push(e,t)}if(n){for(let t=0;t<O.length;t+=2)O[t][0](O[t+1]);O.length=0}}}return{set:o,update:function(n){o(n(t))},subscribe:function(a,u=n){const l=[a,u];return i.push(l),1===i.length&&(r=e(o)||n),a(t),()=>{const t=i.indexOf(l);-1!==t&&i.splice(t,1),0===i.length&&(r(),r=null)}}}}const D=K(),F=K([]);function _(t){let e;return{c(){e=f("div"),this.c=n,m(e,"id","map"),m(e,"class","map")},m(t,n){s(t,e,n)},p:n,i:n,o:n,d(t){t&&c(e)}}}function V(t,n,e){let r,i,{hover:o}=n;return F.subscribe(t=>{try{!function(t){if(!t.length)return;const n=am4core.create("map",am4maps.MapChart);n.seriesContainer.draggable=!1,n.seriesContainer.resizable=!1,n.geodata=am4geodata_worldLow,n.projection=new am4maps.projections.Miller,n.maxZoomLevel=1,e(2,i=n.series.push(new am4maps.MapPolygonSeries)),e(2,i.useGeodata=!0,i);const r=i.mapPolygons.template;r.tooltipText="{name}: {currency}",r.fill=am4core.color("#ccc"),r.states.create("hover").properties.fill=am4core.color("red"),e(2,i.exclude=["AQ"],i),e(2,i.data=t,i),e(2,i.calculateVisualCenter=!0,i),e(2,i.mapPolygons.template.tooltipPosition="fixed",i),r.propertyFields.fill="fill"}(t)}catch(t){}}),t.$set=t=>{"hover"in t&&e(0,o=t.hover)},t.$$.update=()=>{if(7&t.$$.dirty)try{i&&o&&(r&&e(1,r.isHover=!1,r),e(1,r=i.getPolygonById(o)),e(1,r.isHover=!0,r)),!o&&r&&e(1,r.isHover=!1,r)}catch(t){}},[o]}class Z extends I{constructor(t){super(),this.shadowRoot.innerHTML="<style>.map{height:100%;min-height:300px;width:100%}</style>",H(this,{target:this.shadowRoot},V,_,a,{hover:0}),t&&(t.target&&s(t.target,this,t.anchor),t.props&&(this.$set(t.props),L()))}static get observedAttributes(){return["hover"]}get hover(){return this.$$.ctx[0]}set hover(t){this.$set({hover:t}),L()}}var W=[{url:"https://oec.world/hs92/export/2017/show/all/9102/?output_depth=hs92_id_len.6",name:"Base Metal Watches",value:"import_val",type:"Import"},{url:"https://oec.world/hs92/export/2017/show/all/9101/?output_depth=hs92_id_len.6",name:"Precious Metal Watches",value:"import_val",type:"Import"},{url:"https://oec.world/hs92/export/2017/show/all/7113/?output_depth=hs92_id_len.6",name:"Jewellery",value:"import_val",type:"Import"},{url:"https://oec.world/hs92/export/2017/show/all/9114/?output_depth=hs92_id_len.6",name:"Other Clocks and Watches",value:"import_val",type:"Import"}],Y={AFG:"AF",ALA:"AX",ALB:"AL",DZA:"DZ",ASM:"AS",AND:"AD",AGO:"AO",AIA:"AI",ATA:"AQ",ATG:"AG",ARG:"AR",ARM:"AM",ABW:"AW",AUS:"AU",AUT:"AT",AZE:"AZ",BHS:"BS",BHR:"BH",BGD:"BD",BRB:"BB",BLR:"BY",BEL:"BE",BLZ:"BZ",BEN:"BJ",BMU:"BM",BTN:"BT",BOL:"BO",BIH:"BA",BWA:"BW",BVT:"BV",BRA:"BR",VGB:"VG",IOT:"IO",BRN:"BN",BGR:"BG",BFA:"BF",BDI:"BI",KHM:"KH",CMR:"CM",CAN:"CA",CPV:"CV",CYM:"KY",CAF:"CF",TCD:"TD",CHL:"CL",CHN:"CN",HKG:"HK",MAC:"MO",CXR:"CX",CCK:"CC",COL:"CO",COM:"KM",COG:"CG",COD:"CD",COK:"CK",CRI:"CR",CIV:"CI",HRV:"HR",CUB:"CU",CYP:"CY",CZE:"CZ",DNK:"DK",DJI:"DJ",DMA:"DM",DOM:"DO",ECU:"EC",EGY:"EG",SLV:"SV",GNQ:"GQ",ERI:"ER",EST:"EE",ETH:"ET",FLK:"FK",FRO:"FO",FJI:"FJ",FIN:"FI",FRA:"FR",GUF:"GF",PYF:"PF",ATF:"TF",GAB:"GA",GMB:"GM",GEO:"GE",DEU:"DE",GHA:"GH",GIB:"GI",GRC:"GR",GRL:"GL",GRD:"GD",GLP:"GP",GUM:"GU",GTM:"GT",GGY:"GG",GIN:"GN",GNB:"GW",GUY:"GY",HTI:"HT",HMD:"HM",VAT:"VA",HND:"HN",HUN:"HU",ISL:"IS",IND:"IN",IDN:"ID",IRN:"IR",IRQ:"IQ",IRL:"IE",IMN:"IM",ISR:"IL",ITA:"IT",JAM:"JM",JPN:"JP",JEY:"JE",JOR:"JO",KAZ:"KZ",KEN:"KE",KIR:"KI",PRK:"KP",KOR:"KR",KWT:"KW",KGZ:"KG",LAO:"LA",LVA:"LV",LBN:"LB",LSO:"LS",LBR:"LR",LBY:"LY",LIE:"LI",LTU:"LT",LUX:"LU",MKD:"MK",MDG:"MG",MWI:"MW",MYS:"MY",MDV:"MV",MLI:"ML",MLT:"MT",MHL:"MH",MTQ:"MQ",MRT:"MR",MUS:"MU",MYT:"YT",MEX:"MX",FSM:"FM",MDA:"MD",MCO:"MC",MNG:"MN",MNE:"ME",MSR:"MS",MAR:"MA",MOZ:"MZ",MMR:"MM",NAM:"NA",NRU:"NR",NPL:"NP",NLD:"NL",ANT:"AN",NCL:"NC",NZL:"NZ",NIC:"NI",NER:"NE",NGA:"NG",NIU:"NU",NFK:"NF",MNP:"MP",NOR:"NO",OMN:"OM",PAK:"PK",PLW:"PW",PSE:"PS",PAN:"PA",PNG:"PG",PRY:"PY",PER:"PE",PHL:"PH",PCN:"PN",POL:"PL",PRT:"PT",PRI:"PR",QAT:"QA",REU:"RE",ROU:"RO",RUS:"RU",RWA:"RW",BLM:"BL",SHN:"SH",KNA:"KN",LCA:"LC",MAF:"MF",SPM:"PM",VCT:"VC",WSM:"WS",SMR:"SM",STP:"ST",SAU:"SA",SEN:"SN",SRB:"RS",SYC:"SC",SLE:"SL",SGP:"SG",SVK:"SK",SVN:"SI",SLB:"SB",SOM:"SO",ZAF:"ZA",SGS:"GS",SSD:"SS",ESP:"ES",LKA:"LK",SDN:"SD",SUR:"SR",SJM:"SJ",SWZ:"SZ",SWE:"SE",CHE:"CH",SYR:"SY",TWN:"TW",TJK:"TJ",TZA:"TZ",THA:"TH",TLS:"TL",TGO:"TG",TKL:"TK",TON:"TO",TTO:"TT",TUN:"TN",TUR:"TR",TKM:"TM",TCA:"TC",TUV:"TV",UGA:"UG",UKR:"UA",ARE:"AE",GBR:"GB",USA:"US",UMI:"UM",URY:"UY",UZB:"UZ",VUT:"VU",VEN:"VE",VNM:"VN",VIR:"VI",WLF:"WF",ESH:"EH",YEM:"YE",ZMB:"ZM",ZWE:"ZW",XKX:"XK"};function j(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var J,q,X=(1===(J=j).length&&(q=J,J=function(t,n){return j(q(t),n)}),{left:function(t,n,e,r){for(null==e&&(e=0),null==r&&(r=t.length);e<r;){var i=e+r>>>1;J(t[i],n)<0?e=i+1:r=i}return e},right:function(t,n,e,r){for(null==e&&(e=0),null==r&&(r=t.length);e<r;){var i=e+r>>>1;J(t[i],n)>0?r=i:e=i+1}return e}}).right,z=Math.sqrt(50),Q=Math.sqrt(10),tt=Math.sqrt(2);function nt(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=z?10:o>=Q?5:o>=tt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=z?10:o>=Q?5:o>=tt?2:1)}function et(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function rt(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function it(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function ot(){}var at="\\s*([+-]?\\d+)\\s*",ut="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",lt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",st=/^#([0-9a-f]{3,8})$/,ct=new RegExp("^rgb\\("+[at,at,at]+"\\)$"),ht=new RegExp("^rgb\\("+[lt,lt,lt]+"\\)$"),ft=new RegExp("^rgba\\("+[at,at,at,ut]+"\\)$"),dt=new RegExp("^rgba\\("+[lt,lt,lt,ut]+"\\)$"),pt=new RegExp("^hsl\\("+[ut,lt,lt]+"\\)$"),gt=new RegExp("^hsla\\("+[ut,lt,lt,ut]+"\\)$"),mt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Mt(){return this.rgb().formatHex()}function bt(){return this.rgb().formatRgb()}function yt(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=st.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?vt(n):3===e?new xt(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?Nt(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?Nt(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=ct.exec(t))?new xt(n[1],n[2],n[3],1):(n=ht.exec(t))?new xt(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=ft.exec(t))?Nt(n[1],n[2],n[3],n[4]):(n=dt.exec(t))?Nt(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=pt.exec(t))?Tt(n[1],n[2]/100,n[3]/100,1):(n=gt.exec(t))?Tt(n[1],n[2]/100,n[3]/100,n[4]):mt.hasOwnProperty(t)?vt(mt[t]):"transparent"===t?new xt(NaN,NaN,NaN,0):null}function vt(t){return new xt(t>>16&255,t>>8&255,255&t,1)}function Nt(t,n,e,r){return r<=0&&(t=n=e=NaN),new xt(t,n,e,r)}function wt(t){return t instanceof ot||(t=yt(t)),t?new xt((t=t.rgb()).r,t.g,t.b,t.opacity):new xt}function At(t,n,e,r){return 1===arguments.length?wt(t):new xt(t,n,e,null==r?1:r)}function xt(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function St(){return"#"+Et(this.r)+Et(this.g)+Et(this.b)}function Rt(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Et(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Tt(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Lt(t,n,e,r)}function Ct(t){if(t instanceof Lt)return new Lt(t.h,t.s,t.l,t.opacity);if(t instanceof ot||(t=yt(t)),!t)return new Lt;if(t instanceof Lt)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,l=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=l<.5?o+i:2-o-i,a*=60):u=l>0&&l<1?0:a,new Lt(a,u,l,t.opacity)}function Lt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Gt(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function Bt(t){return function(){return t}}function It(t){return 1==(t=+t)?kt:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):Bt(isNaN(n)?e:n)}}function kt(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):Bt(isNaN(t)?n:t)}rt(ot,yt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Mt,formatHex:Mt,formatHsl:function(){return Ct(this).formatHsl()},formatRgb:bt,toString:bt}),rt(xt,At,it(ot,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new xt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new xt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:St,formatHex:St,formatRgb:Rt,toString:Rt})),rt(Lt,(function(t,n,e,r){return 1===arguments.length?Ct(t):new Lt(t,n,e,null==r?1:r)}),it(ot,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Lt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Lt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new xt(Gt(t>=240?t-240:t+120,i,r),Gt(t,i,r),Gt(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var $t=function t(n){var e=It(n);function r(t,n){var r=e((t=At(t)).r,(n=At(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=kt(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function Pt(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}}function Ut(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=Vt(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}function Ht(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function Ot(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function Kt(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=Vt(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}var Dt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ft=new RegExp(Dt.source,"g");function _t(t,n){var e,r,i,o=Dt.lastIndex=Ft.lastIndex=0,a=-1,u=[],l=[];for(t+="",n+="";(e=Dt.exec(t))&&(r=Ft.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,l.push({i:a,x:Ot(e,r)})),o=Ft.lastIndex;return o<n.length&&(i=n.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?l[0]?function(t){return function(n){return t(n)+""}}(l[0].x):function(t){return function(){return t}}(n):(n=l.length,function(t){for(var e,r=0;r<n;++r)u[(e=l[r]).i]=e.x(t);return u.join("")})}function Vt(t,n){var e,r,i=typeof n;return null==n||"boolean"===i?Bt(n):("number"===i?Ot:"string"===i?(e=yt(n))?(n=e,$t):_t:n instanceof yt?$t:n instanceof Date?Ht:(r=n,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(n)?Ut:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?Kt:Ot:Pt))(t,n)}function Zt(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}function Wt(t){return+t}var Yt=[0,1];function jt(t){return t}function Jt(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:(e=isNaN(n)?NaN:.5,function(){return e});var e}function qt(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=Jt(i,r),o=e(a,o)):(r=Jt(r,i),o=e(o,a)),function(t){return o(r(t))}}function Xt(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=Jt(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(n){var e=X(t,n,1,r)-1;return o[e](i[e](n))}}function zt(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Qt(){var t,n,e,r,i,o,a=Yt,u=Yt,l=Vt,s=jt;function c(){var t,n,e,l=Math.min(a.length,u.length);return s!==jt&&(t=a[0],n=a[l-1],t>n&&(e=t,t=n,n=e),s=function(e){return Math.max(t,Math.min(n,e))}),r=l>2?Xt:qt,i=o=null,h}function h(n){return isNaN(n=+n)?e:(i||(i=r(a.map(t),u,l)))(t(s(n)))}return h.invert=function(e){return s(n((o||(o=r(u,a.map(t),Ot)))(e)))},h.domain=function(t){return arguments.length?(a=Array.from(t,Wt),c()):a.slice()},h.range=function(t){return arguments.length?(u=Array.from(t),c()):u.slice()},h.rangeRound=function(t){return u=Array.from(t),l=Zt,c()},h.clamp=function(t){return arguments.length?(s=!!t||jt,c()):s!==jt},h.interpolate=function(t){return arguments.length?(l=t,c()):l},h.unknown=function(t){return arguments.length?(e=t,h):e},function(e,r){return t=e,n=r,c()}}function tn(){return Qt()(jt,jt)}function nn(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function en(t){return(t=nn(Math.abs(t)))?t[1]:NaN}var rn,on=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function an(t){if(!(n=on.exec(t)))throw new Error("invalid format: "+t);var n;return new un({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function un(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function ln(t,n){var e=nn(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}an.prototype=un.prototype,un.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var sn={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return ln(100*t,n)},r:ln,s:function(t,n){var e=nn(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(rn=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+nn(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function cn(t){return t}var hn,fn,dn,pn=Array.prototype.map,gn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function mn(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?cn:(n=pn.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,u=n[0],l=0;i>0&&u>0&&(l+u+1>r&&(u=Math.max(1,r-l)),o.push(t.substring(i-=u,i+u)),!((l+=u+1)>r));)u=n[a=(a+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?cn:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(pn.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",s=void 0===t.minus?"-":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function h(t){var n=(t=an(t)).fill,e=t.align,h=t.sign,f=t.symbol,d=t.zero,p=t.width,g=t.comma,m=t.precision,M=t.trim,b=t.type;"n"===b?(g=!0,b="g"):sn[b]||(void 0===m&&(m=12),M=!0,b="g"),(d||"0"===n&&"="===e)&&(d=!0,n="0",e="=");var y="$"===f?i:"#"===f&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",v="$"===f?o:/[%p]/.test(b)?l:"",N=sn[b],w=/[defgprs%]/.test(b);function A(t){var i,o,l,f=y,A=v;if("c"===b)A=N(t)+A,t="";else{var x=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:N(Math.abs(t),m),M&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),x&&0==+t&&"+"!==h&&(x=!1),f=(x?"("===h?h:s:"-"===h||"("===h?"":h)+f,A=("s"===b?gn[8+rn/3]:"")+A+(x&&"("===h?")":""),w)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){A=(46===l?a+t.slice(i+1):t.slice(i))+A,t=t.slice(0,i);break}}g&&!d&&(t=r(t,1/0));var S=f.length+t.length+A.length,R=S<p?new Array(p-S+1).join(n):"";switch(g&&d&&(t=r(R+t,R.length?p-A.length:1/0),R=""),e){case"<":t=f+t+A+R;break;case"=":t=f+R+t+A;break;case"^":t=R.slice(0,S=R.length>>1)+f+t+A+R.slice(S);break;default:t=R+f+t+A}return u(t)}return m=void 0===m?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),A.toString=function(){return t+""},A}return{format:h,formatPrefix:function(t,n){var e=h(((t=an(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(en(n)/3))),i=Math.pow(10,-r),o=gn[8+r/3];return function(t){return e(i*t)+o}}}}function Mn(t,n,e,r){var i,o=function(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=z?i*=10:o>=Q?i*=5:o>=tt&&(i*=2),n<t?-i:i}(t,n,e);switch((r=an(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(en(n)/3)))-en(Math.abs(t)))}(o,a))||(r.precision=i),dn(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,en(n)-en(t))+1}(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-en(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return fn(r)}function bn(t){var n=t.domain;return t.ticks=function(t){var e=n();return function(t,n,e){var r,i,o,a,u=-1;if(e=+e,(t=+t)===(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(a=nt(t,n,e))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),n=Math.floor(n/a),o=new Array(i=Math.ceil(n-t+1));++u<i;)o[u]=(t+u)*a;else for(t=Math.floor(t*a),n=Math.ceil(n*a),o=new Array(i=Math.ceil(t-n+1));++u<i;)o[u]=(t-u)/a;return r&&o.reverse(),o}(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return Mn(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i=n(),o=0,a=i.length-1,u=i[o],l=i[a];return l<u&&(r=u,u=l,l=r,r=o,o=a,a=r),(r=nt(u,l,e))>0?r=nt(u=Math.floor(u/r)*r,l=Math.ceil(l/r)*r,e):r<0&&(r=nt(u=Math.ceil(u*r)/r,l=Math.floor(l*r)/r,e)),r>0?(i[o]=Math.floor(u/r)*r,i[a]=Math.ceil(l/r)*r,n(i)):r<0&&(i[o]=Math.ceil(u*r)/r,i[a]=Math.floor(l*r)/r,n(i)),t},t}hn=mn({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),fn=hn.format,dn=hn.formatPrefix;const yn=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});async function vn(t,n){const e=t;function r(t){const e=t[n],r=function(t){const{features:n}=am4geodata_worldLow,e=n.find(({properties:n})=>n.id===t);return e&&e.properties.name||""}(i(t));return{value:e,currency:e?yn.format(e.toFixed(0)):0,id:i(t),name:r}}function i(t){return n=t.origin_id.slice(2).toUpperCase(),Y[n];var n}let o=Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER;const u=await fetch(e),{data:l}=await u.json(),s=l.map(t=>{const n=r(t);if(n.value)return o<n.value&&(o=n.value),a>n.value&&(a=n.value),n}).filter(Boolean).sort((t,n)=>t.value>n.value?-1:1),c=function t(){var n=tn();return n.copy=function(){return zt(n,t())},et.apply(n,arguments),bn(n)}().domain([0,o/3.5]).range(["#ffedea","green"]);return{data:s.map(t=>({...t,fill:am4core.color(c(t.value))})),max:o,min:a}}function Nn(t,n,e){const r=t.slice();return r[9]=n[e],r}function wn(t,n,e){const r=t.slice();return r[12]=n[e],r}function An(t){let n,e,r,i,o=t[12].name+"";function a(...n){return t[5](t[12],...n)}return{c(){n=f("button"),e=d(o),r=p(),b(n,"active",t[3].name===t[12].name)},m(t,o,u){s(t,n,o),l(n,e),l(n,r),u&&i(),i=g(n,"click",a)},p(e,r){t=e,8&r&&b(n,"active",t[3].name===t[12].name)},d(t){t&&c(n),i()}}}function xn(t){let n,e,r,o,a,u,h=t[9].name+"",m=t[9].currency+"";function b(...n){return t[6](t[9],...n)}return{c(){n=f("li"),e=d(h),r=p(),o=d(m),a=p()},m(c,h,f){s(c,n,h),l(n,e),l(n,r),l(n,o),l(n,a),f&&i(u),u=[g(n,"mouseover",b),g(n,"mouseleave",t[7])]},p(n,r){t=n,2&r&&h!==(h=t[9].name+"")&&M(e,h),2&r&&m!==(m=t[9].currency+"")&&M(o,m)},d(t){t&&c(n),i(u)}}}function Sn(t){let e,r,i,o,a,u,d,g,M,b,y=W,v=[];for(let n=0;n<y.length;n+=1)v[n]=An(wn(t,y,n));const N=new Z({props:{hover:t[2],selected:D}});let w=t[1],A=[];for(let n=0;n<w.length;n+=1)A[n]=xn(Nn(t,w,n));return{c(){e=f("main"),r=f("div");for(let t=0;t<v.length;t+=1)v[t].c();var t;i=p(),o=f("section"),(t=N.$$.fragment)&&t.c(),a=p(),u=f("aside"),d=f("h1"),d.textContent="Top ten",g=p(),M=f("ol");for(let t=0;t<A.length;t+=1)A[t].c();this.c=n,m(r,"class","tabs"),m(o,"class","content"),m(u,"class","sidebar"),m(e,"class","app")},m(n,c){s(n,e,c),l(e,r);for(let t=0;t<v.length;t+=1)v[t].m(r,null);l(e,i),l(e,o),$(N,o,null),l(e,a),l(e,u),l(u,d),l(u,g),l(u,M);for(let t=0;t<A.length;t+=1)A[t].m(M,null);t[8](M),b=!0},p(t,[n]){if(8&n){let e;for(y=W,e=0;e<y.length;e+=1){const i=wn(t,y,e);v[e]?v[e].p(i,n):(v[e]=An(i),v[e].c(),v[e].m(r,null))}for(;e<v.length;e+=1)v[e].d(1);v.length=y.length}const e={};if(4&n&&(e.hover=t[2]),N.$set(e),22&n){let e;for(w=t[1],e=0;e<w.length;e+=1){const r=Nn(t,w,e);A[e]?A[e].p(r,n):(A[e]=xn(r),A[e].c(),A[e].m(M,null))}for(;e<A.length;e+=1)A[e].d(1);A.length=w.length}},i(t){b||(k(N.$$.fragment,t),b=!0)},o(t){!function(t,n,e,r){if(t&&t.o){if(B.has(t))return;B.add(t),(void 0).c.push(()=>{B.delete(t),r&&(e&&t.d(1),r())}),t.o(n)}}(N.$$.fragment,t),b=!1},d(n){n&&c(e),h(v,n),P(N),h(A,n),t[8](null)}}}function Rn(t,n,e){let r,i,o;u(t,D,t=>e(3,r=t));let a=null;function l(t){e(2,a=t.id)}D.set(W[0]),D.subscribe(t=>{!async function({url:t,value:n}){const e=await vn(t,n);F.set(e.data)}(t)}),F.subscribe(t=>{e(1,o=t.slice(0,10))});return[i,o,a,r,l,t=>function(t){D.set(t)}(t),(t,n)=>l(t),()=>e(2,a=null),function(t){w[t?"unshift":"push"](()=>{e(0,i=t)})}]}class En extends I{constructor(t){super(),this.shadowRoot.innerHTML="<style>:global(html, body){margin:0;padding:0}:global(*){box-sizing:border-box}.app{height:100vh;max-width:100%;display:flex;flex-direction:column}.content{width:100%;height:100%;margin:0 auto}.sidebar{padding:0 16px}ol{width:100%;padding:10px;line-height:30px}li{border-bottom:1px solid #222}li:hover{background:#ccc}.active{background:#9d0000}button:hover{background:#9d0000}button{border:0;padding:inherit 8px;background:#c50000;color:#fff;margin-right:8px}.tabs{padding:8px}@media(min-size: 768px){.app{flex-direction:row}}</style>",H(this,{target:this.shadowRoot},Rn,Sn,a,{}),t&&t.target&&s(t.target,this,t.anchor)}}customElements.define("watch-import-map",En),t.default=En,Object.defineProperty(t,"__esModule",{value:!0})}));
